buildscript {
    repositories { mavenCentral() }
    dependencies { classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}") }
}



jettyRun.contextPath = "eventory"
jettyRunWar.contextPath = "eventory"


apply plugin: 'java'
apply plugin: 'eclipse-wtp'
apply plugin: 'idea'
apply plugin: 'spring-boot'
apply plugin: 'war'
apply plugin: 'groovy'


war { baseName = 'eventory-server' }
sourceCompatibility = 1.7
targetCompatibility = 1.7

repositories { mavenCentral() }

configurations { providedRuntime }

dependencies {
    compile project(":core:komea-events")
    
    compile("org.springframework.boot:spring-boot-starter-web:${springBootVersion}")
    compile("org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}")
    compile("org.springframework.boot:spring-boot-starter-jdbc:${springBootVersion}")	
    compile("org.apache.activemq:activemq-broker:5.10.0")
    compile("org.springframework:spring-jms:${SPRING_VERSION}")
    compile("org.apache.activemq:activemq-kahadb-store:${ACTIVEMQ_VERSION}")
    
    compile 'mysql:mysql-connector-java:5.1.34'
    compile 'com.h2database:h2:1.4.184'
    compile 'org.vibur:vibur-dbcp:1.2.0'
    compile 'com.esotericsoftware.kryo:kryo:2.24.0'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.5.0'
    compile 'org.jdbi:jdbi:2.55'
    compile ('org.apache.kafka:kafka_2.10:0.8.1.1') {
        exclude module: 'log4j'
    }
    
    providedRuntime("org.springframework.boot:spring-boot-starter-tomcat:${springBootVersion}")
    testCompile("org.springframework.boot:spring-boot-starter-test:${springBootVersion}")
    testCompile("org.dbunit:dbunit:2.5.0")
}

eclipse {
    classpath {
        containers.remove('org.eclipse.jdt.launching.JRE_CONTAINER')
        containers 'org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7'
    }
}


